{"ast":null,"code":"import _toConsumableArray from\"D:/Tai lieu/ReactJS/shop-clothes - Copy/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from\"react\";import{LeftPostDetailWrapper,MainPostDetailWrapper,PostDetailWrapper,RelateNewsWrapper}from\"./style\";import{getPostDetailRequest,getListPostRequest}from\"./actions\";import{connect}from\"react-redux\";import{useEffect}from\"react\";import{selectPostDetail,selectPosts,selectIsLoading,selectError}from\"./selector\";import Loading from\"../Components/Loading\";import PostCareItem from\"./PostCareItem\";import _ from'lodash';import PostItem from\"./../Home/Component/Post\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostDetail=function PostDetail(props){var id=props.match.params.id,handleGetPostDetail=props.handleGetPostDetail,postDetail=props.postDetail,posts=props.posts,isLoading=props.isLoading,error=props.error,handleGetListPost=props.handleGetListPost,history=props.history;useEffect(function(){handleGetPostDetail(+id);handleGetListPost();},[]);if(isLoading)return/*#__PURE__*/_jsx(Loading,{});var avatar=postDetail.avatar,createdAt=postDetail.createdAt,description=postDetail.description,name=postDetail.name,subImage=postDetail.subImage;var listPost=[];_.forEach(posts,function(item){listPost=[].concat(_toConsumableArray(listPost),[posts[Math.floor(Math.random()*posts.length)]]);});var uniqPost=_.uniqBy(listPost,\"id\");var handleClickToPostDetail=function handleClickToPostDetail(postId){history.push(\"/tin-tuc/\".concat(postId));};return/*#__PURE__*/_jsx(PostDetailWrapper,{className:\"post-detail\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(MainPostDetailWrapper,{className:\"main-post-detail\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"name-post\",children:name}),/*#__PURE__*/_jsxs(\"p\",{className:\"time\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Shoppanda\"}),/*#__PURE__*/_jsx(\"span\",{className:\"time-item\",children:createdAt.slice(0,10)})]}),description.map(function(item){var name=item.name,desc=item.desc,type=item.type,id=item.id;return!type?/*#__PURE__*/_jsx(\"p\",{className:\"descript\",children:name},id):type===\"heading\"?/*#__PURE__*/_jsx(\"h5\",{className:\"indexing\",children:name},id):/*#__PURE__*/_jsxs(\"div\",{className:\"image-post\",children:[/*#__PURE__*/_jsx(\"img\",{src:name,alt:\"name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"desc-image\",children:desc})]},id);})]}),/*#__PURE__*/_jsxs(LeftPostDetailWrapper,{className:\"left-post-detail\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"title\",children:\"co\\u0301 th\\xEA\\u0309 ba\\u0323n quan t\\xE2m\"}),/*#__PURE__*/_jsx(\"div\",{className:\"list-post-care\",children:uniqPost.map(function(item){return/*#__PURE__*/_jsx(PostCareItem,{postCareItem:item},item.id);})}),subImage.map(function(item){return/*#__PURE__*/_jsx(\"img\",{src:item.src,alt:\"\"},item.id);})]}),/*#__PURE__*/_jsx(RelateNewsWrapper,{className:\"relate-news\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:posts.map(function(item){return/*#__PURE__*/_jsx(PostItem,{className:\"col-lg-3 col-md-4 col-sm-6 col-12\",postItem:item,onClick:function onClick(){return handleClickToPostDetail(item.id);}},item.id);})})})]})});};var mapStateToProps=function mapStateToProps(state){return{postDetail:selectPostDetail(state),posts:selectPosts(state),isLoading:selectIsLoading(state),error:selectError(state)};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{handleGetPostDetail:function handleGetPostDetail(data){return dispatch(getPostDetailRequest(data));},handleGetListPost:function handleGetListPost(){return dispatch(getListPostRequest());}};};export default connect(mapStateToProps,mapDispatchToProps)(PostDetail);","map":{"version":3,"sources":["D:/Tai lieu/ReactJS/shop-clothes - Copy/src/container/PostDetail/index.js"],"names":["React","LeftPostDetailWrapper","MainPostDetailWrapper","PostDetailWrapper","RelateNewsWrapper","getPostDetailRequest","getListPostRequest","connect","useEffect","selectPostDetail","selectPosts","selectIsLoading","selectError","Loading","PostCareItem","_","PostItem","PostDetail","props","id","match","params","handleGetPostDetail","postDetail","posts","isLoading","error","handleGetListPost","history","avatar","createdAt","description","name","subImage","listPost","forEach","item","Math","floor","random","length","uniqPost","uniqBy","handleClickToPostDetail","postId","push","slice","map","desc","type","src","mapStateToProps","state","mapDispatchToProps","dispatch","data"],"mappings":"kIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,qBAAT,CAAgCC,qBAAhC,CAAuDC,iBAAvD,CAA0EC,iBAA1E,KAAmG,SAAnG,CACA,OACEC,oBADF,CAEEC,kBAFF,KAGO,WAHP,CAIA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OACEC,gBADF,CAEEC,WAFF,CAGEC,eAHF,CAIEC,WAJF,KAKO,YALP,CAMA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,QAAP,KAAqB,0BAArB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,KAAK,CAAI,CAC1B,GACqBC,CAAAA,EADrB,CASID,KATJ,CACEE,KADF,CACWC,MADX,CACqBF,EADrB,CAEEG,mBAFF,CASIJ,KATJ,CAEEI,mBAFF,CAGEC,UAHF,CASIL,KATJ,CAGEK,UAHF,CAIEC,KAJF,CASIN,KATJ,CAIEM,KAJF,CAKEC,SALF,CASIP,KATJ,CAKEO,SALF,CAMEC,KANF,CASIR,KATJ,CAMEQ,KANF,CAOEC,iBAPF,CASIT,KATJ,CAOES,iBAPF,CAQEC,OARF,CASIV,KATJ,CAQEU,OARF,CAUApB,SAAS,CAAC,UAAM,CACdc,mBAAmB,CAAC,CAACH,EAAF,CAAnB,CACAQ,iBAAiB,GAClB,CAHQ,CAGN,EAHM,CAAT,CAIA,GAAIF,SAAJ,CAAe,mBAAO,KAAC,OAAD,IAAP,CACf,GACEI,CAAAA,MADF,CAMIN,UANJ,CACEM,MADF,CAEEC,SAFF,CAMIP,UANJ,CAEEO,SAFF,CAGEC,WAHF,CAMIR,UANJ,CAGEQ,WAHF,CAIEC,IAJF,CAMIT,UANJ,CAIES,IAJF,CAKEC,QALF,CAMIV,UANJ,CAKEU,QALF,CAOA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACAnB,CAAC,CAACoB,OAAF,CAAUX,KAAV,CAAiB,SAAAY,IAAI,CAAI,CACvBF,QAAQ,8BAAOA,QAAP,GAAiBV,KAAK,CAACa,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBf,KAAK,CAACgB,MAAjC,CAAD,CAAtB,EAAR,CACD,CAFD,EAGA,GAAMC,CAAAA,QAAQ,CAAG1B,CAAC,CAAC2B,MAAF,CAASR,QAAT,CAAmB,IAAnB,CAAjB,CACA,GAAMS,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAAAC,MAAM,CAAI,CACxChB,OAAO,CAACiB,IAAR,oBAAyBD,MAAzB,GACD,CAFD,CAGA,mBACE,KAAC,iBAAD,EAAmB,SAAS,CAAC,aAA7B,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,MAAC,qBAAD,EAAuB,SAAS,CAAC,kBAAjC,wBACE,YAAK,GAAG,CAAEf,MAAV,CAAkB,GAAG,CAAC,EAAtB,EADF,cAEE,WAAI,SAAS,CAAC,WAAd,UACGG,IADH,EAFF,cAKE,WAAG,SAAS,CAAC,MAAb,wBACE,mCADF,cAEE,aAAM,SAAS,CAAC,WAAhB,UACGF,SAAS,CAACgB,KAAV,CAAgB,CAAhB,CAAmB,EAAnB,CADH,EAFF,GALF,CAWGf,WAAW,CAACgB,GAAZ,CAAgB,SAAAX,IAAI,CAAI,CACvB,GAAQJ,CAAAA,IAAR,CAAiCI,IAAjC,CAAQJ,IAAR,CAAcgB,IAAd,CAAiCZ,IAAjC,CAAcY,IAAd,CAAoBC,IAApB,CAAiCb,IAAjC,CAAoBa,IAApB,CAA0B9B,EAA1B,CAAiCiB,IAAjC,CAA0BjB,EAA1B,CACA,MACE,CAAC8B,IAAD,cAAQ,UAAG,SAAS,CAAC,UAAb,UACLjB,IADK,EAA6Bb,EAA7B,CAAR,CAGG8B,IAAI,GAAK,SAAT,cACC,WACE,SAAS,CAAC,UADZ,UAIGjB,IAJH,EAEOb,EAFP,CADD,cAOC,aACE,SAAS,CAAC,YADZ,wBAIE,YAAK,GAAG,CAAEa,IAAV,CAAgB,GAAG,CAAC,MAApB,EAJF,cAKE,UAAG,SAAS,CAAC,YAAb,UACGgB,IADH,EALF,GAEO7B,EAFP,CAXN,CAqBD,CAvBA,CAXH,GADF,cAqCE,MAAC,qBAAD,EAAuB,SAAS,CAAC,kBAAjC,wBACE,WAAI,SAAS,CAAC,OAAd,yDADF,cAIE,YAAK,SAAS,CAAC,gBAAf,UACGsB,QAAQ,CAACM,GAAT,CAAa,SAAAX,IAAI,CAAI,CACpB,mBAAO,KAAC,YAAD,EAAc,YAAY,CAAEA,IAA5B,EAAuCA,IAAI,CAACjB,EAA5C,CAAP,CACD,CAFA,CADH,EAJF,CASGc,QAAQ,CAACc,GAAT,CAAa,SAAAX,IAAI,CAAI,CACpB,mBAAO,YAAK,GAAG,CAAEA,IAAI,CAACc,GAAf,CAAoB,GAAG,CAAC,EAAxB,EAAgCd,IAAI,CAACjB,EAArC,CAAP,CACD,CAFA,CATH,GArCF,cAkDE,KAAC,iBAAD,EAAmB,SAAS,CAAC,aAA7B,uBACE,YAAK,SAAS,CAAC,KAAf,UACGK,KAAK,CAACuB,GAAN,CAAU,SAAAX,IAAI,CAAI,CACjB,mBAAO,KAAC,QAAD,EACL,SAAS,CAAC,mCADL,CAEL,QAAQ,CAAEA,IAFL,CAIL,OAAO,CAAE,yBAAMO,CAAAA,uBAAuB,CAACP,IAAI,CAACjB,EAAN,CAA7B,EAJJ,EAGAiB,IAAI,CAACjB,EAHL,CAAP,CAMD,CAPA,CADH,EADF,EAlDF,GADF,EADF,CAmED,CAlGD,CAmGA,GAAMgC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC/B,MAAO,CACL7B,UAAU,CAAEd,gBAAgB,CAAC2C,KAAD,CADvB,CAEL5B,KAAK,CAAEd,WAAW,CAAC0C,KAAD,CAFb,CAGL3B,SAAS,CAAEd,eAAe,CAACyC,KAAD,CAHrB,CAIL1B,KAAK,CAAEd,WAAW,CAACwC,KAAD,CAJb,CAAP,CAMD,CAPD,CAQA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACrC,MAAO,CACLhC,mBAAmB,CAAE,6BAAAiC,IAAI,QAAID,CAAAA,QAAQ,CAACjD,oBAAoB,CAACkD,IAAD,CAArB,CAAZ,EADpB,CAEL5B,iBAAiB,CAAE,mCAAM2B,CAAAA,QAAQ,CAAChD,kBAAkB,EAAnB,CAAd,EAFd,CAAP,CAID,CALD,CAMA,cAAeC,CAAAA,OAAO,CAAC4C,eAAD,CAAkBE,kBAAlB,CAAP,CAA6CpC,UAA7C,CAAf","sourcesContent":["import React from \"react\";\r\nimport { LeftPostDetailWrapper, MainPostDetailWrapper, PostDetailWrapper, RelateNewsWrapper } from \"./style\";\r\nimport {\r\n  getPostDetailRequest,\r\n  getListPostRequest\r\n} from \"./actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport {\r\n  selectPostDetail,\r\n  selectPosts,\r\n  selectIsLoading,\r\n  selectError\r\n} from \"./selector\"\r\nimport Loading from \"../Components/Loading\";\r\nimport PostCareItem from \"./PostCareItem\";\r\nimport _ from 'lodash';\r\nimport PostItem from \"./../Home/Component/Post\"\r\n\r\nconst PostDetail = props => {\r\n  const {\r\n    match: { params: { id } },\r\n    handleGetPostDetail,\r\n    postDetail,\r\n    posts,\r\n    isLoading,\r\n    error,\r\n    handleGetListPost,\r\n    history\r\n  } = props;\r\n  useEffect(() => {\r\n    handleGetPostDetail(+id);\r\n    handleGetListPost()\r\n  }, []);\r\n  if (isLoading) return <Loading />\r\n  const {\r\n    avatar,\r\n    createdAt,\r\n    description,\r\n    name,\r\n    subImage\r\n  } = postDetail;\r\n  let listPost = [];\r\n  _.forEach(posts, item => {\r\n    listPost = [...listPost, posts[Math.floor(Math.random() * posts.length)]]\r\n  })\r\n  const uniqPost = _.uniqBy(listPost, \"id\");\r\n  const handleClickToPostDetail = postId => {\r\n    history.push(`/tin-tuc/${postId}`);\r\n  }\r\n  return (\r\n    <PostDetailWrapper className=\"post-detail\">\r\n      <div className=\"container\">\r\n        <MainPostDetailWrapper className=\"main-post-detail\">\r\n          <img src={avatar} alt=\"\" />\r\n          <h3 className=\"name-post\">\r\n            {name}\r\n          </h3>\r\n          <p className=\"time\">\r\n            <span>Shoppanda</span>\r\n            <span className=\"time-item\">\r\n              {createdAt.slice(0, 10)}\r\n            </span>\r\n          </p>\r\n          {description.map(item => {\r\n            const { name, desc, type, id } = item;\r\n            return (\r\n              !type ? <p className=\"descript\" key={id}>\r\n                {name}\r\n              </p> :\r\n                (type === \"heading\" ?\r\n                  <h5\r\n                    className=\"indexing\"\r\n                    key={id}\r\n                  >\r\n                    {name}\r\n                  </h5> :\r\n                  <div\r\n                    className=\"image-post\"\r\n                    key={id}\r\n                  >\r\n                    <img src={name} alt=\"name\" />\r\n                    <p className=\"desc-image\">\r\n                      {desc}\r\n                    </p>\r\n                  </div>)\r\n            );\r\n          })}\r\n        </MainPostDetailWrapper>\r\n        <LeftPostDetailWrapper className=\"left-post-detail\">\r\n          <h3 className=\"title\">\r\n            có thể bạn quan tâm\r\n          </h3>\r\n          <div className=\"list-post-care\">\r\n            {uniqPost.map(item => {\r\n              return <PostCareItem postCareItem={item} key={item.id} />\r\n            })}\r\n          </div>\r\n          {subImage.map(item => {\r\n            return <img src={item.src} alt=\"\" key={item.id} />\r\n          })}\r\n        </LeftPostDetailWrapper>\r\n        <RelateNewsWrapper className=\"relate-news\">\r\n          <div className=\"row\">\r\n            {posts.map(item => {\r\n              return <PostItem\r\n                className=\"col-lg-3 col-md-4 col-sm-6 col-12\"\r\n                postItem={item}\r\n                key={item.id}\r\n                onClick={() => handleClickToPostDetail(item.id)}\r\n              />\r\n            })}\r\n            </div>\r\n        </RelateNewsWrapper>\r\n      </div>\r\n    </PostDetailWrapper>\r\n  );\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    postDetail: selectPostDetail(state),\r\n    posts: selectPosts(state),\r\n    isLoading: selectIsLoading(state),\r\n    error: selectError(state)\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    handleGetPostDetail: data => dispatch(getPostDetailRequest(data)),\r\n    handleGetListPost: () => dispatch(getListPostRequest())\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PostDetail);"]},"metadata":{},"sourceType":"module"}