{"ast":null,"code":"import _toConsumableArray from\"D:/Tai lieu/ReactJS/shop-clothes - Copy/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/Tai lieu/ReactJS/shop-clothes - Copy/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{LeftPostDetailWrapper,MainPostDetailWrapper,PostDetailWrapper,RelateNewsWrapper}from\"./style\";import{getPostDetailRequest,getListPostRequest}from\"./actions\";import{connect}from\"react-redux\";import{useEffect,useState}from\"react\";import{selectPostDetail,selectPosts,selectIsLoading,selectError}from\"./selector\";import Loading from\"../Components/Loading\";import PostCareItem from\"./Component/PostCareItem\";import _ from'lodash';import PostItem from\"./../Home/Component/Post\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostDetail=function PostDetail(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),currentRoot=_useState2[0],setCurrentRoot=_useState2[1];var params=useParams();var id=props.match.params.id,handleGetPostDetail=props.handleGetPostDetail,postDetail=props.postDetail,posts=props.posts,isLoading=props.isLoading,error=props.error,handleGetListPost=props.handleGetListPost,history=props.history;useEffect(function(){setCurrentRoot(params.id);handleGetPostDetail(+id);handleGetListPost();window.scrollTo({top:0,behavior:\"smooth\"});},[params]);if(isLoading)return/*#__PURE__*/_jsx(Loading,{});var avatar=postDetail.avatar,createdAt=postDetail.createdAt,description=postDetail.description,name=postDetail.name,subImage=postDetail.subImage,idPost=postDetail.id;var listPost=[];_.forEach(posts,function(item){listPost=[].concat(_toConsumableArray(listPost),[posts[Math.floor(Math.random()*posts.length)]]);});var uniqPost=_.uniqBy(listPost,\"id\");var handleClickToPostDetail=function handleClickToPostDetail(postId){history.push(\"/tin-tuc/\".concat(postId));};return/*#__PURE__*/_jsx(PostDetailWrapper,{className:\"post-detail\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(MainPostDetailWrapper,{className:\"main-post-detail\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"name-post\",children:name}),/*#__PURE__*/_jsxs(\"p\",{className:\"time\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Shoppanda\"}),/*#__PURE__*/_jsx(\"span\",{className:\"time-item\",children:createdAt&&createdAt.slice(0,10)})]}),description&&description.map(function(item){var name=item.name,desc=item.desc,type=item.type,id=item.id;return!type?/*#__PURE__*/_jsx(\"p\",{className:\"descript\",children:name},id):type===\"heading\"?/*#__PURE__*/_jsx(\"h5\",{className:\"indexing\",children:name},id):/*#__PURE__*/_jsxs(\"div\",{className:\"image-post\",children:[/*#__PURE__*/_jsx(\"img\",{src:name,alt:\"name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"desc-image\",children:desc})]},id);})]}),/*#__PURE__*/_jsxs(LeftPostDetailWrapper,{className:\"left-post-detail\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"title\",children:\"co\\u0301 th\\xEA\\u0309 ba\\u0323n quan t\\xE2m\"}),/*#__PURE__*/_jsx(\"div\",{className:\"list-post-care\",children:uniqPost.map(function(item){return/*#__PURE__*/_jsx(PostCareItem,{onClick:function onClick(){return handleClickToPostDetail(+item.id);},postCareItem:item},item.id);})}),subImage.map(function(item){return/*#__PURE__*/_jsx(\"img\",{src:item.src,alt:\"\"},item.id);})]}),/*#__PURE__*/_jsx(RelateNewsWrapper,{className:\"relate-news\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:posts.map(function(item){return/*#__PURE__*/_jsx(PostItem,{className:\"col-lg-3 col-md-4 col-sm-6 col-12\",postItem:item,onClick:function onClick(){return handleClickToPostDetail(item.id);}},item.id);})})})]})});};var mapStateToProps=function mapStateToProps(state){return{postDetail:selectPostDetail(state),posts:selectPosts(state),isLoading:selectIsLoading(state),error:selectError(state)};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{handleGetPostDetail:function handleGetPostDetail(data){return dispatch(getPostDetailRequest(data));},handleGetListPost:function handleGetListPost(){return dispatch(getListPostRequest());}};};export default connect(mapStateToProps,mapDispatchToProps)(PostDetail);","map":{"version":3,"sources":["D:/Tai lieu/ReactJS/shop-clothes - Copy/src/container/PostDetail/index.js"],"names":["React","LeftPostDetailWrapper","MainPostDetailWrapper","PostDetailWrapper","RelateNewsWrapper","getPostDetailRequest","getListPostRequest","connect","useEffect","useState","selectPostDetail","selectPosts","selectIsLoading","selectError","Loading","PostCareItem","_","PostItem","useParams","PostDetail","props","currentRoot","setCurrentRoot","params","id","match","handleGetPostDetail","postDetail","posts","isLoading","error","handleGetListPost","history","window","scrollTo","top","behavior","avatar","createdAt","description","name","subImage","idPost","listPost","forEach","item","Math","floor","random","length","uniqPost","uniqBy","handleClickToPostDetail","postId","push","slice","map","desc","type","src","mapStateToProps","state","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { LeftPostDetailWrapper, MainPostDetailWrapper, PostDetailWrapper, RelateNewsWrapper } from \"./style\";\r\nimport {\r\n  getPostDetailRequest,\r\n  getListPostRequest\r\n} from \"./actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  selectPostDetail,\r\n  selectPosts,\r\n  selectIsLoading,\r\n  selectError\r\n} from \"./selector\"\r\nimport Loading from \"../Components/Loading\";\r\nimport PostCareItem from \"./Component/PostCareItem\";\r\nimport _ from 'lodash';\r\nimport PostItem from \"./../Home/Component/Post\"\r\nimport {useParams} from \"react-router-dom\"\r\nconst PostDetail = props => {\r\n\r\n  const [currentRoot, setCurrentRoot] = useState(\"\");\r\n  const params = useParams();\r\n  const {\r\n    match: { params: { id } },\r\n    handleGetPostDetail,\r\n    postDetail,\r\n    posts,\r\n    isLoading,\r\n    error,\r\n    handleGetListPost,\r\n    history\r\n  } = props;\r\n  useEffect(() => {\r\n    setCurrentRoot(params.id);\r\n    handleGetPostDetail(+id);\r\n    handleGetListPost();\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"smooth\"\r\n    })\r\n  }, [params]);\r\n  if (isLoading) return <Loading />\r\n  const {\r\n    avatar,\r\n    createdAt,\r\n    description,\r\n    name,\r\n    subImage,\r\n    id:idPost\r\n  } = postDetail;\r\n  let listPost = [];\r\n  _.forEach(posts, item => {\r\n    listPost = [...listPost, posts[Math.floor(Math.random() * posts.length)]]\r\n  })\r\n  const uniqPost = _.uniqBy(listPost, \"id\");\r\n  const handleClickToPostDetail = postId => {\r\n    history.push(`/tin-tuc/${postId}`);\r\n  }\r\n  return (\r\n     <PostDetailWrapper className=\"post-detail\">\r\n      <div className=\"container\">\r\n      <MainPostDetailWrapper className=\"main-post-detail\">\r\n        <img src={avatar} alt=\"\" />\r\n        <h3 className=\"name-post\">\r\n          {name}\r\n        </h3>\r\n        <p className=\"time\">\r\n          <span>Shoppanda</span>\r\n          <span className=\"time-item\">\r\n            {createdAt && createdAt.slice(0, 10)}\r\n          </span>\r\n        </p>\r\n        {description && description.map(item => {\r\n          const { name, desc, type, id } = item;\r\n          return (\r\n            !type ? <p className=\"descript\" key={id}>\r\n              {name}\r\n            </p> :\r\n              (type === \"heading\" ?\r\n                <h5\r\n                  className=\"indexing\"\r\n                  key={id}\r\n                >\r\n                  {name}\r\n                </h5> :\r\n                <div\r\n                  className=\"image-post\"\r\n                  key={id}\r\n                >\r\n                  <img src={name} alt=\"name\" />\r\n                  <p className=\"desc-image\">\r\n                    {desc}\r\n                  </p>\r\n                </div>)\r\n          );\r\n        })}\r\n      </MainPostDetailWrapper>\r\n      <LeftPostDetailWrapper className=\"left-post-detail\">\r\n        <h3 className=\"title\">\r\n          có thể bạn quan tâm\r\n        </h3>\r\n        <div className=\"list-post-care\">\r\n          {uniqPost.map(item => {\r\n            return <PostCareItem\r\n            onClick={() => handleClickToPostDetail(+item.id)}\r\n            postCareItem={item}\r\n            key={item.id} />\r\n          })}\r\n        </div>\r\n        {subImage.map(item => {\r\n          return <img src={item.src} alt=\"\" key={item.id} />\r\n        })}\r\n      </LeftPostDetailWrapper>\r\n      <RelateNewsWrapper className=\"relate-news\">\r\n        <div className=\"row\">\r\n          {posts.map(item => {\r\n            return <PostItem\r\n              className=\"col-lg-3 col-md-4 col-sm-6 col-12\"\r\n              postItem={item}\r\n              key={item.id}\r\n              onClick={() => handleClickToPostDetail(item.id)}\r\n            />\r\n          })}\r\n          </div>\r\n      </RelateNewsWrapper>\r\n    </div>\r\n  </PostDetailWrapper>\r\n  );\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    postDetail: selectPostDetail(state),\r\n    posts: selectPosts(state),\r\n    isLoading: selectIsLoading(state),\r\n    error: selectError(state)\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    handleGetPostDetail: data => dispatch(getPostDetailRequest(data)),\r\n    handleGetListPost: () => dispatch(getListPostRequest())\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PostDetail);"]},"metadata":{},"sourceType":"module"}