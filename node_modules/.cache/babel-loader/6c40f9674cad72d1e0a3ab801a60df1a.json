{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Hover\", {\n  enumerable: true,\n  get: function get() {\n    return _Hover.default;\n  }\n});\nObject.defineProperty(exports, \"Trigger\", {\n  enumerable: true,\n  get: function get() {\n    return _Trigger.default;\n  }\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Hover = _interopRequireDefault(require(\"./lib/Hover\"));\n\nvar _Trigger = _interopRequireDefault(require(\"./lib/Trigger\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar propTypes = {\n  children: _propTypes.default.array.isRequired,\n  options: _propTypes.default.object.isRequired,\n  className: _propTypes.default.string\n};\n\nfunction renderItem(item, index) {\n  if (item.type.name === 'Trigger' || item.props.type === 'trigger') {\n    return _react.default.createElement(_Trigger.default, {\n      key: index\n    }, item);\n  } else if (item.type.name === 'Hover' || item.props.type === 'hover') {\n    return _react.default.createElement(_Hover.default, {\n      key: index\n    }, item);\n  }\n}\n\nfunction ReactHover(props) {\n  var _useState = (0, _react.useState)({\n    display: 'none',\n    position: 'absolute'\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      hoverComponentStyle = _useState2[0],\n      updateHoverComponentStyle = _useState2[1];\n\n  var setVisibility = function setVisibility(flag) {\n    var updatedStyles = null;\n\n    if (flag) {\n      updatedStyles = _objectSpread({}, hoverComponentStyle, {\n        display: 'block'\n      });\n    } else {\n      updatedStyles = _objectSpread({}, hoverComponentStyle, {\n        display: 'none'\n      });\n    }\n\n    updateHoverComponentStyle(updatedStyles);\n  };\n\n  var getCursorPos = function getCursorPos(e) {\n    var cursorX = e.pageX;\n    var cursorY = e.pageY;\n    var _props$options = props.options,\n        followCursor = _props$options.followCursor,\n        shiftX = _props$options.shiftX,\n        shiftY = _props$options.shiftY;\n    var updatedStyles = null;\n\n    if (!followCursor) {\n      return;\n    }\n\n    if (isNaN(shiftX)) {\n      shiftX = 0;\n    }\n\n    if (isNaN(shiftY)) {\n      shiftY = 0;\n    }\n\n    updatedStyles = _objectSpread({}, hoverComponentStyle, {\n      top: cursorY + shiftY,\n      left: cursorX + shiftX\n    });\n    updateHoverComponentStyle(updatedStyles);\n  };\n\n  var childrenWithProps = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = props.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var child = _step.value;\n\n      if (child.props) {\n        if (child.type.name === 'Trigger' || child.props.type === 'trigger') {\n          childrenWithProps.push(_react.default.cloneElement(child, {\n            setVisibility: setVisibility,\n            getCursorPos: getCursorPos\n          }));\n        } else if (child.type.name === 'Hover' || child.props.type === 'hover') {\n          childrenWithProps.push(_react.default.cloneElement(child, {\n            styles: hoverComponentStyle,\n            setVisibility: setVisibility,\n            getCursorPos: getCursorPos\n          }));\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return _react.default.createElement(\"div\", null, childrenWithProps.map(function (item, index) {\n    return renderItem(item, index);\n  }));\n}\n\nReactHover.propTypes = propTypes;\nvar _default = ReactHover;\nexports.default = _default;","map":{"version":3,"sources":["../src/ReactHover.js"],"names":["propTypes","children","PropTypes","options","className","string","item","index","hoverComponentStyle","updateHoverComponentStyle","display","position","setVisibility","updatedStyles","getCursorPos","cursorX","e","cursorY","followCursor","shiftX","shiftY","props","isNaN","top","left","childrenWithProps","child","styles","renderItem","ReactHover"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAA,MAAA,GAAA,uBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,IAAA,MAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CAAA;;AACA,IAAA,QAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;;AACA,IAAA,UAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,SAAS,GAAG;AAChBC,EAAAA,QAAQ,EAAEC,UAAAA,CAAAA,OAAAA,CAAAA,KAAAA,CADM,UAAA;AAEhBC,EAAAA,OAAO,EAAED,UAAAA,CAAAA,OAAAA,CAAAA,MAAAA,CAFO,UAAA;AAGhBE,EAAAA,SAAS,EAAEF,UAAAA,CAAAA,OAAAA,CAAUG;AAHL,CAAlB;;AAMA,SAAA,UAAA,CAAA,IAAA,EAAA,KAAA,EAAiC;AAC/B,MAAIC,IAAI,CAAJA,IAAAA,CAAAA,IAAAA,KAAAA,SAAAA,IAAgCA,IAAI,CAAJA,KAAAA,CAAAA,IAAAA,KAApC,SAAA,EAAmE;AACjE,WAAO,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,QAAA,CAAD,OAAA,EAAA;AAAS,MAAA,GAAG,EAAEC;AAAd,KAAA,EAAP,IAAO,CAAP;AADF,GAAA,MAEO,IAAID,IAAI,CAAJA,IAAAA,CAAAA,IAAAA,KAAAA,OAAAA,IAA8BA,IAAI,CAAJA,KAAAA,CAAAA,IAAAA,KAAlC,OAAA,EAA+D;AACpE,WAAO,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,MAAA,CAAD,OAAA,EAAA;AAAO,MAAA,GAAG,EAAEC;AAAZ,KAAA,EAAP,IAAO,CAAP;AACD;AACF;;AAED,SAAA,UAAA,CAAA,KAAA,EAA2B;AAAA,MAAA,SAAA,GAC8B,CAAA,GAAA,MAAA,CAAA,QAAA,EAAS;AAC9DG,IAAAA,OAAO,EADuD,MAAA;AAE9DC,IAAAA,QAAQ,EAAE;AAFoD,GAAT,CAD9B;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAA,MACpBH,mBADoB,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MACCC,yBADD,GAAA,UAAA,CAAA,CAAA,CAAA;;AAMzB,MAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAAA,IAAA,EAAQ;AAC5B,QAAIC,aAAa,GAAjB,IAAA;;AACA,QAAA,IAAA,EAAU;AACRA,MAAAA,aAAa,GAAA,aAAA,CAAA,EAAA,EAAA,mBAAA,EAAA;AAA6BH,QAAAA,OAAO,EAAE;AAAtC,OAAA,CAAbG;AADF,KAAA,MAEO;AACLA,MAAAA,aAAa,GAAA,aAAA,CAAA,EAAA,EAAA,mBAAA,EAAA;AAA6BH,QAAAA,OAAO,EAAE;AAAtC,OAAA,CAAbG;AACD;;AACDJ,IAAAA,yBAAyB,CAAzBA,aAAyB,CAAzBA;AAPF,GAAA;;AAUA,MAAMK,YAAY,GAAG,SAAfA,YAAe,CAAA,CAAA,EAAK;AACxB,QAAMC,OAAO,GAAGC,CAAC,CAAjB,KAAA;AACA,QAAMC,OAAO,GAAGD,CAAC,CAAjB,KAAA;AAFwB,QAAA,cAAA,GAKpBK,KALoB,CAAA,OAAA;AAAA,QAIXH,YAJW,GAAA,cAAA,CAAA,YAAA;AAAA,QAIGC,MAJH,GAAA,cAAA,CAAA,MAAA;AAAA,QAIWC,MAJX,GAAA,cAAA,CAAA,MAAA;AAMxB,QAAIP,aAAa,GAAjB,IAAA;;AACA,QAAI,CAAJ,YAAA,EAAmB;AACjB;AACD;;AACD,QAAIS,KAAK,CAAT,MAAS,CAAT,EAAmB;AACjBH,MAAAA,MAAM,GAANA,CAAAA;AACD;;AACD,QAAIG,KAAK,CAAT,MAAS,CAAT,EAAmB;AACjBF,MAAAA,MAAM,GAANA,CAAAA;AACD;;AACDP,IAAAA,aAAa,GAAA,aAAA,CAAA,EAAA,EAAA,mBAAA,EAAA;AAEXU,MAAAA,GAAG,EAAEN,OAAO,GAFD,MAAA;AAGXO,MAAAA,IAAI,EAAET,OAAO,GAAGI;AAHL,KAAA,CAAbN;AAKAJ,IAAAA,yBAAyB,CAAzBA,aAAyB,CAAzBA;AArBF,GAAA;;AAwBA,MAAIgB,iBAAiB,GAArB,EAAA;AAxCyB,MAAA,yBAAA,GAAA,IAAA;AAAA,MAAA,iBAAA,GAAA,KAAA;AAAA,MAAA,cAAA,GAAA,SAAA;;AAAA,MAAA;AAyCzB,SAAA,IAAA,SAAA,GAAkBJ,KAAK,CAAvB,QAAkBA,CAAlB,MAAA,CAAA,QAAkBA,GAAlB,EAAA,KAAA,EAAA,EAAA,yBAAA,GAAA,CAAA,KAAA,GAAA,SAAA,CAAA,IAAA,EAAA,EAAA,IAAA,CAAA,EAAA,yBAAA,GAAA,IAAA,EAAkC;AAAA,UAAzBK,KAAyB,GAAA,KAAA,CAAA,KAAA;;AAChC,UAAIA,KAAK,CAAT,KAAA,EAAiB;AACf,YAAIA,KAAK,CAALA,IAAAA,CAAAA,IAAAA,KAAAA,SAAAA,IAAiCA,KAAK,CAALA,KAAAA,CAAAA,IAAAA,KAArC,SAAA,EAAqE;AACnED,UAAAA,iBAAiB,CAAjBA,IAAAA,CACE,MAAA,CAAA,OAAA,CAAA,YAAA,CAAA,KAAA,EAA0B;AACxBb,YAAAA,aAAa,EADW,aAAA;AAExBE,YAAAA,YAAY,EAAEA;AAFU,WAA1B,CADFW;AADF,SAAA,MAOO,IAAIC,KAAK,CAALA,IAAAA,CAAAA,IAAAA,KAAAA,OAAAA,IAA+BA,KAAK,CAALA,KAAAA,CAAAA,IAAAA,KAAnC,OAAA,EAAiE;AACtED,UAAAA,iBAAiB,CAAjBA,IAAAA,CACE,MAAA,CAAA,OAAA,CAAA,YAAA,CAAA,KAAA,EAA0B;AACxBE,YAAAA,MAAM,EADkB,mBAAA;AAExBf,YAAAA,aAAa,EAFW,aAAA;AAGxBE,YAAAA,YAAY,EAAEA;AAHU,WAA1B,CADFW;AAOD;AACF;AACF;AA5DwB,GAAA,CAAA,OAAA,GAAA,EAAA;AAAA,IAAA,iBAAA,GAAA,IAAA;AAAA,IAAA,cAAA,GAAA,GAAA;AAAA,GAAA,SAAA;AAAA,QAAA;AAAA,UAAA,CAAA,yBAAA,IAAA,SAAA,CAAA,MAAA,IAAA,IAAA,EAAA;AAAA,QAAA,SAAA,CAAA,MAAA;AAAA;AAAA,KAAA,SAAA;AAAA,UAAA,iBAAA,EAAA;AAAA,cAAA,cAAA;AAAA;AAAA;AAAA;;AA8DzB,SACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA,IAAA,EAAM,iBAAiB,CAAjB,GAAA,CAAsB,UAAA,IAAA,EAAA,KAAA,EAAA;AAAA,WAAiBG,UAAU,CAAA,IAAA,EAA3B,KAA2B,CAA3B;AAD9B,GACQ,CAAN,CADF;AAGD;;AAEDC,UAAU,CAAVA,SAAAA,GAAAA,SAAAA;eAGeA,U","sourcesContent":["import React, { useState } from 'react'\nimport Hover from './lib/Hover'\nimport Trigger from './lib/Trigger'\nimport PropTypes from 'prop-types'\n\nconst propTypes = {\n  children: PropTypes.array.isRequired,\n  options: PropTypes.object.isRequired,\n  className: PropTypes.string,\n}\n\nfunction renderItem(item, index) {\n  if (item.type.name === 'Trigger' || item.props.type === 'trigger') {\n    return <Trigger key={index}>{item}</Trigger>\n  } else if (item.type.name === 'Hover' || item.props.type === 'hover') {\n    return <Hover key={index}>{item}</Hover>\n  }\n}\n\nfunction ReactHover(props) {\n  let [hoverComponentStyle, updateHoverComponentStyle] = useState({\n    display: 'none',\n    position: 'absolute',\n  })\n\n  const setVisibility = flag => {\n    let updatedStyles = null\n    if (flag) {\n      updatedStyles = { ...hoverComponentStyle, display: 'block' }\n    } else {\n      updatedStyles = { ...hoverComponentStyle, display: 'none' }\n    }\n    updateHoverComponentStyle(updatedStyles)\n  }\n\n  const getCursorPos = e => {\n    const cursorX = e.pageX\n    const cursorY = e.pageY\n    let {\n      options: { followCursor, shiftX, shiftY },\n    } = props\n    let updatedStyles = null\n    if (!followCursor) {\n      return\n    }\n    if (isNaN(shiftX)) {\n      shiftX = 0\n    }\n    if (isNaN(shiftY)) {\n      shiftY = 0\n    }\n    updatedStyles = {\n      ...hoverComponentStyle,\n      top: cursorY + shiftY,\n      left: cursorX + shiftX,\n    }\n    updateHoverComponentStyle(updatedStyles)\n  }\n\n  let childrenWithProps = []\n  for (let child of props.children) {\n    if (child.props) {\n      if (child.type.name === 'Trigger' || child.props.type === 'trigger') {\n        childrenWithProps.push(\n          React.cloneElement(child, {\n            setVisibility: setVisibility,\n            getCursorPos: getCursorPos,\n          }),\n        )\n      } else if (child.type.name === 'Hover' || child.props.type === 'hover') {\n        childrenWithProps.push(\n          React.cloneElement(child, {\n            styles: hoverComponentStyle,\n            setVisibility: setVisibility,\n            getCursorPos: getCursorPos,\n          }),\n        )\n      }\n    }\n  }\n\n  return (\n    <div>{childrenWithProps.map((item, index) => renderItem(item, index))}</div>\n  )\n}\n\nReactHover.propTypes = propTypes\n\nexport { Trigger, Hover }\nexport default ReactHover\n"]},"metadata":{},"sourceType":"script"}