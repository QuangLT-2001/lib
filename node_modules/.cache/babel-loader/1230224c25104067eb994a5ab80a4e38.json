{"ast":null,"code":"import _toConsumableArray from\"D:/Tai lieu/ReactJS/shop-clothes - Copy/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/Tai lieu/ReactJS/shop-clothes - Copy/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{TabPageWrapper,HeadTabs,NavbarWrapper}from\"./style\";import SelectOption from\"./../../../Component/SelectOption\";import _ from'lodash';import _filter from'lodash/filter';import _slice from'lodash/slice';import NamePage from\"../../Components/NamePage\";import PaginationPage from\"../../Components/Pagination\";import Input from'../../../Component/input';import FilerByPriceItem from\"./FilterPriceItem\";import RelateProductItem from\"./RelateProductItem\";import TabItem from\"./TabItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Name=[{id:0,name:'Thứ tự sản phẩm'},{id:1,name:'Tên từ A - Z'},{id:2,name:'Tên từ Z - A'},{id:3,name:'Giá từ thấp tới cao'},{id:4,name:'Giá từ cao tới thấp'}];var Price=[{id:1,name:'Khoảng giá',label:'All'},{id:2,name:'Dưới 100.000đ',label:'levelOne'},{id:3,name:'100.000đ - 300.000đ',label:'levelTwo'},{id:4,name:'300.000đ - 500.000đ',label:'levelThree'},{id:5,name:'500.000đ - 700.000đ',label:'levelFour'},{id:6,name:'700.000đ - 800.000đ',label:'levelFive'},{id:7,name:'800.000đ - 900.000đ',label:'levelLast'},{id:8,name:'Trên 900.000đ',label:'levelLast'}];var TabPage=function TabPage(props){var nameLink=props.nameLink,to=props.to,nameTabs=props.nameTabs,products=props.products,history=props.history;// quản lý checked của radio\nvar _useState=useState(Price[0].id),_useState2=_slicedToArray(_useState,2),checked=_useState2[0],setChecked=_useState2[1];// xử lý phần search\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),keyword=_useState6[0],setKeyword=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),resultSearch=_useState8[0],setResultSearch=_useState8[1];// xử lý nut search\n// onChange select\nvar _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),selectSort=_useState10[0],setSelectSort=_useState10[1];// sort by name\nvar _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),listProductSortBy=_useState12[0],setListProductSortBy=_useState12[1];// kiểm tra  mảng sort và mảng filter\nvar handleChangeInput=function handleChangeInput(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setSearch(value);setKeyword(value);var newValue=value.toLowerCase();var productNewData=_.filter(products,function(item){return item.name.toLowerCase().includes(newValue);});setResultSearch(productNewData);};var data=keyword?resultSearch:products;// hàm compare quản lý sort theo tên\nvar compareByName=function compareByName(obFist,obSecond){if(obFist.name>obSecond.name){return 1;}else if(obFist.name<obSecond.name){return-1;}return 0;};// hàm compare quản lý sort giá tiền\nvar compareByPrice=function compareByPrice(obFist,obSecond){if(obFist.price>obSecond.price){return 1;}else if(obFist.price<obSecond.price){return-1;}return 0;};// sắp xếp\nvar handleSelectChange=function handleSelectChange(event){var value=event.target.value;setSelectSort(+value);var newListProduct=[];if(+value===1){newListProduct=_toConsumableArray(listProductSortBy.length?listProductSortBy:data).sort(compareByName);}else if(+value===2){newListProduct=_.reverse(_toConsumableArray(listProductSortBy.length?listProductSortBy:data).sort(compareByName));}else if(+value===3){newListProduct=_toConsumableArray(listProductSortBy.length?listProductSortBy:data).sort(compareByPrice);}else if(+value===4){newListProduct=_.reverse(_toConsumableArray(listProductSortBy.length?listProductSortBy:data).sort(compareByPrice));}else{newListProduct=data;}setListProductSortBy(newListProduct);setSearch(\"\");};var tabs=[{id:1,name:\"Quần áo\",path:\"quan-ao\"},{id:2,name:\"Dày dép\",path:\"giay-dep\"},{id:3,name:\"Phụ kiện khác\",path:\"phu-kien-khac\"}];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),selectFilter=_useState14[0],setSelectFilter=_useState14[1];var handleSelectChangePrice=function handleSelectChangePrice(event){var value=event.target.value;setChecked(value);setSelectFilter(+value);var empty=[{name:'',type:'empty'}];var newListProduct=[];if(+value===2){newListProduct=_.filter(products,function(item){return item.price<100000;});newListProduct=_toConsumableArray(newListProduct.length<1?empty:newListProduct);}if(+value===3){newListProduct=_.filter(products,function(item){return item.price>=100000&&item.price<=300000;});newListProduct=_toConsumableArray(newListProduct.length<1?empty:newListProduct);}else if(+value===4){newListProduct=_.filter(products,function(item){return item.price>=300000&&item.price<=500000;});newListProduct=_toConsumableArray(newListProduct.length<1?empty:newListProduct);}else if(+value===5){newListProduct=_.filter(products,function(item){return item.price>500000&&item.price<=700000;});newListProduct=_toConsumableArray(newListProduct.length<1?empty:newListProduct);}else if(+value===6){newListProduct=_.filter(products,function(item){return item.price>700000&&item.price<=800000;});newListProduct=_toConsumableArray(newListProduct.length<1?empty:newListProduct);}else if(+value===7){newListProduct=_.filter(products,function(item){return item.price>=800000&&item.price<=900000;});newListProduct=_toConsumableArray(newListProduct.length<1?empty:newListProduct);}else if(+value===8){newListProduct=_.filter(products,function(item){return item.price>900000;});newListProduct=_toConsumableArray(newListProduct.length<1?empty:newListProduct);}setListProductSortBy(newListProduct);setSearch(\"\");};var getListProductByFilter=function getListProductByFilter(){if(listProductSortBy.length){return listProductSortBy;}return data;};var relateProduct=[];_.forEach(products,function(item){relateProduct=[].concat(_toConsumableArray(relateProduct),[products[Math.floor(Math.random()*products.length)]]);});return/*#__PURE__*/_jsxs(TabPageWrapper,{className:\"page\",children:[/*#__PURE__*/_jsxs(HeadTabs,{className:\"head-tabs\",children:[/*#__PURE__*/_jsx(NamePage,{nameLink:nameLink,to:to,name:nameTabs}),/*#__PURE__*/_jsx(SelectOption,{value:selectSort,handleSelectChange:handleSelectChange,nameSelect:\"Name\",option:Name})]}),/*#__PURE__*/_jsxs(NavbarWrapper,{className:\"navbar-left\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"list-filter\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"filter-item\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"title-navbar\",children:\"T\\xECm ki\\u1EBFm\"}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Input,{className:\"search\",type:\"text\",value:search,name:\"search\",placeholder:\"T\\xECm s\\u1EA3n ph\\u1EA9m...\",onChange:handleChangeInput})})})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"filter-item\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"title-navbar\",children:\"Ti\\u0300m ki\\xEA\\u0301m theo loa\\u0323i\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-tab\",children:tabs.map(function(item){return/*#__PURE__*/_jsx(TabItem,{tabItem:item},item.id);})})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"filter-item\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"title-navbar\",children:\"L\\u1ECDc theo gi\\xE1 ti\\u1EC1n\"}),/*#__PURE__*/_jsx(\"ul\",{children:Price.map(function(item){return/*#__PURE__*/_jsx(FilerByPriceItem,{checked:+checked===+item.id,onChange:handleSelectChangePrice,filterByPriceItem:item},item.id);})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list-ralate-product container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ralate-product-content\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"title-navbar\",children:\"Ba\\u0323n co\\u0301 th\\xEA\\u0309 ti\\u0300m\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:_.slice(_.uniq(relateProduct),0,10).map(function(item){return/*#__PURE__*/_jsx(RelateProductItem,{productItem:item},item.id);})})]})})]}),/*#__PURE__*/_jsx(NavbarWrapper,{className:\"navbar-mobile\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-filter\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"filter-item\",children:/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Input,{className:\"search\",type:\"text\",value:search,name:\"search\",placeholder:\"T\\xECm s\\u1EA3n ph\\u1EA9m...\",onChange:handleChangeInput})})})}),/*#__PURE__*/_jsxs(\"li\",{className:\"filter-item\",children:[/*#__PURE__*/_jsx(SelectOption,{option:Price,handleSelectChange:handleSelectChangePrice}),/*#__PURE__*/_jsx(SelectOption,{value:selectSort,handleSelectChange:handleSelectChange,nameSelect:\"Name\",option:Name})]})]})}),data.length?/*#__PURE__*/_jsx(PaginationPage,{history:history,product:getListProductByFilter()}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/Assets/Images/product/empty_product.svg\",alt:\"empty\"}),/*#__PURE__*/_jsx(\"p\",{className:\"empty-text\",children:\"Kh\\xF4ng t\\xECm th\\u1EA5y s\\u1EA3n ph\\u1EA9m\"})]})]});};export default TabPage;","map":{"version":3,"sources":["D:/Tai lieu/ReactJS/shop-clothes - Copy/src/container/Components/TabPage/index.js"],"names":["React","useState","TabPageWrapper","HeadTabs","NavbarWrapper","SelectOption","_","_filter","_slice","NamePage","PaginationPage","Input","FilerByPriceItem","RelateProductItem","TabItem","Name","id","name","Price","label","TabPage","props","nameLink","to","nameTabs","products","history","checked","setChecked","search","setSearch","keyword","setKeyword","resultSearch","setResultSearch","selectSort","setSelectSort","listProductSortBy","setListProductSortBy","handleChangeInput","event","target","value","newValue","toLowerCase","productNewData","filter","item","includes","data","compareByName","obFist","obSecond","compareByPrice","price","handleSelectChange","newListProduct","length","sort","reverse","tabs","path","selectFilter","setSelectFilter","handleSelectChangePrice","empty","type","getListProductByFilter","relateProduct","forEach","Math","floor","random","map","slice","uniq"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { TabPageWrapper, HeadTabs, NavbarWrapper } from \"./style\";\r\nimport SelectOption from \"./../../../Component/SelectOption\";\r\nimport _ from 'lodash';\r\nimport _filter from 'lodash/filter';\r\nimport _slice from 'lodash/slice'\r\nimport NamePage from \"../../Components/NamePage\";\r\nimport PaginationPage from \"../../Components/Pagination\";\r\nimport Input from '../../../Component/input';\r\nimport FilerByPriceItem from \"./FilterPriceItem\";\r\nimport RelateProductItem from \"./RelateProductItem\";\r\nimport TabItem from \"./TabItem\";\r\nconst Name = [\r\n    {\r\n        id: 0,\r\n        name: 'Thứ tự sản phẩm'\r\n    },\r\n    {\r\n        id: 1,\r\n        name: 'Tên từ A - Z'\r\n    },\r\n    {\r\n        id: 2,\r\n        name: 'Tên từ Z - A'\r\n    },\r\n    {\r\n        id: 3,\r\n        name: 'Giá từ thấp tới cao'\r\n    },\r\n    {\r\n        id: 4,\r\n        name: 'Giá từ cao tới thấp'\r\n    },\r\n\r\n]\r\nconst Price = [\r\n    {\r\n        id: 1,\r\n        name: 'Khoảng giá',\r\n        label: 'All'\r\n    },\r\n    {\r\n        id: 2,\r\n        name: 'Dưới 100.000đ',\r\n        label: 'levelOne'\r\n    },\r\n    {\r\n        id: 3,\r\n        name: '100.000đ - 300.000đ',\r\n        label: 'levelTwo'\r\n    },\r\n    {\r\n        id: 4,\r\n        name: '300.000đ - 500.000đ',\r\n        label: 'levelThree'\r\n    },\r\n    {\r\n        id: 5,\r\n        name: '500.000đ - 700.000đ',\r\n        label: 'levelFour'\r\n    },\r\n    {\r\n        id: 6,\r\n        name: '700.000đ - 800.000đ',\r\n        label: 'levelFive'\r\n    },\r\n    {\r\n        id: 7,\r\n        name: '800.000đ - 900.000đ',\r\n        label: 'levelLast'\r\n    },\r\n    {\r\n        id: 8,\r\n        name: 'Trên 900.000đ',\r\n        label: 'levelLast'\r\n    }\r\n]\r\n\r\nconst TabPage = props => {\r\n\r\n    const { nameLink, to, nameTabs, products, history } = props;\r\n    // quản lý checked của radio\r\n    const [checked, setChecked] = useState(Price[0].id)\r\n    // xử lý phần search\r\n    const [search, setSearch] = useState(\"\");\r\n    const [keyword, setKeyword] = useState(\"\");\r\n    const [resultSearch, setResultSearch] = useState([]);\r\n    // xử lý nut search\r\n\r\n    // onChange select\r\n    const [selectSort, setSelectSort] = useState(0)\r\n    // sort by name\r\n    const [listProductSortBy, setListProductSortBy] = useState([]);\r\n    // kiểm tra  mảng sort và mảng filter\r\n    const handleChangeInput = event => {\r\n        const { name, value } = event.target;\r\n        setSearch(value);\r\n        setKeyword(value);\r\n        const newValue = value.toLowerCase();\r\n        const productNewData = _.filter(products, item => item.name.toLowerCase().includes(newValue));\r\n        setResultSearch(productNewData);\r\n    }\r\n    const data = keyword ? resultSearch : products;\r\n    // hàm compare quản lý sort theo tên\r\n    const compareByName = (obFist, obSecond) => {\r\n        if (obFist.name > obSecond.name) {\r\n            return 1\r\n        }\r\n        else if (obFist.name < obSecond.name) {\r\n            return -1\r\n        }\r\n        return 0\r\n    }\r\n    // hàm compare quản lý sort giá tiền\r\n    const compareByPrice = (obFist, obSecond) => {\r\n        if (obFist.price > obSecond.price) {\r\n            return 1\r\n        }\r\n        else if (obFist.price < obSecond.price) {\r\n            return -1\r\n        }\r\n        return 0\r\n    }\r\n    // sắp xếp\r\n    const handleSelectChange = event => {\r\n        const { value } = event.target;\r\n        setSelectSort(+value)\r\n        let newListProduct = [];\r\n\r\n        if (+value === 1) {\r\n            newListProduct = [...(listProductSortBy.length ? listProductSortBy : data)].sort(compareByName);\r\n        }\r\n        else if (+value === 2) {\r\n            newListProduct = _.reverse([...(listProductSortBy.length ? listProductSortBy : data)].sort(compareByName));\r\n        }\r\n        else if (+value === 3) {\r\n            newListProduct = [...(listProductSortBy.length ? listProductSortBy : data)].sort(compareByPrice);\r\n        }\r\n        else if (+value === 4) {\r\n            newListProduct = _.reverse([...(listProductSortBy.length ? listProductSortBy : data)].sort(compareByPrice));\r\n        }\r\n        else {\r\n            newListProduct = data;\r\n        }\r\n        setListProductSortBy(newListProduct);\r\n        setSearch(\"\");\r\n    }\r\n    const tabs = [\r\n        {\r\n            id: 1,\r\n            name: \"Quần áo\",\r\n            path: \"quan-ao\"\r\n        },\r\n        {\r\n            id: 2,\r\n            name: \"Dày dép\",\r\n            path: \"giay-dep\"\r\n        },\r\n        {\r\n            id: 3,\r\n            name: \"Phụ kiện khác\",\r\n            path: \"phu-kien-khac\"\r\n        }\r\n    ]\r\n    const [selectFilter, setSelectFilter] = useState(0)\r\n    const handleSelectChangePrice = event => {\r\n        const { value } = event.target;\r\n        setChecked(value);\r\n        setSelectFilter(+value)\r\n        const empty = [{ name: '', type: 'empty' }]\r\n        let newListProduct = [];\r\n        if (+value === 2) {\r\n            newListProduct = _.filter(products, item => item.price < 100000);\r\n            newListProduct = [...newListProduct.length < 1 ? empty : newListProduct]\r\n        }\r\n        if (+value === 3) {\r\n            newListProduct = _.filter(products, item => item.price >= 100000 && item.price <= 300000);\r\n            newListProduct = [...newListProduct.length < 1 ? empty : newListProduct]\r\n        }\r\n        else if (+value === 4) {\r\n            newListProduct = _.filter(products, item => item.price >= 300000 && item.price <= 500000);\r\n            newListProduct = [...newListProduct.length < 1 ? empty : newListProduct]\r\n        }\r\n        else if (+value === 5) {\r\n            newListProduct = _.filter(products, item => item.price > 500000 && item.price <= 700000);\r\n            newListProduct = [...newListProduct.length < 1 ? empty : newListProduct]\r\n        }\r\n        else if (+value === 6) {\r\n            newListProduct = _.filter(products, item => item.price > 700000 && item.price <= 800000);\r\n            newListProduct = [...newListProduct.length < 1 ? empty : newListProduct]\r\n        }\r\n        else if (+value === 7) {\r\n            newListProduct = _.filter(products, item => item.price >= 800000 && item.price <= 900000);\r\n            newListProduct = [...newListProduct.length < 1 ? empty : newListProduct]\r\n        }\r\n        else if (+value === 8) {\r\n            newListProduct = _.filter(products, item => item.price > 900000);\r\n            newListProduct = [...newListProduct.length < 1 ? empty : newListProduct]\r\n        }\r\n        setListProductSortBy(newListProduct);\r\n        setSearch(\"\");\r\n    }\r\n\r\n\r\n\r\n    const getListProductByFilter = () => {\r\n        if (listProductSortBy.length) {\r\n            return listProductSortBy;\r\n        }\r\n        return data;\r\n    }\r\n\r\n    let relateProduct = [];\r\n    _.forEach(products, item => {\r\n        relateProduct = [...relateProduct, products[Math.floor(Math.random() * products.length)]];\r\n    })\r\n    return (\r\n        <TabPageWrapper className=\"page\">\r\n            <HeadTabs className=\"head-tabs\">\r\n                <NamePage nameLink={nameLink} to={to} name={nameTabs} />\r\n                <SelectOption value={selectSort} handleSelectChange={handleSelectChange} nameSelect=\"Name\" option={Name} />\r\n            </HeadTabs>\r\n            {/* man PC */}\r\n            <NavbarWrapper className=\"navbar-left\">\r\n\r\n                <ul className=\"list-filter\">\r\n                    <li className=\"filter-item\">\r\n                        <h4 className=\"title-navbar\">\r\n                            Tìm kiếm\r\n                        </h4>\r\n                        <ul>\r\n                            <li>\r\n                                <Input\r\n                                    className=\"search\"\r\n                                    type=\"text\"\r\n                                    value={search}\r\n                                    name=\"search\"\r\n                                    placeholder=\"Tìm sản phẩm...\"\r\n                                    onChange={handleChangeInput}\r\n                                />\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                    <li className=\"filter-item\">\r\n                        <h4 className=\"title-navbar\">\r\n                            Tìm kiếm theo loại\r\n                        </h4>\r\n                        <ul className=\"list-tab\">\r\n                            {tabs.map(item => <TabItem tabItem={item} key={item.id} />)}\r\n                        </ul>\r\n                    </li>\r\n                    <li className=\"filter-item\">\r\n                        <h4 className=\"title-navbar\">\r\n                            Lọc theo giá tiền\r\n                        </h4>\r\n                        <ul>\r\n                            {Price.map(item => {\r\n                                return <FilerByPriceItem checked={+checked === +item.id} onChange={handleSelectChangePrice} key={item.id} filterByPriceItem={item} />\r\n                            })}\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n\r\n                <div className=\"list-ralate-product container-fluid\">\r\n                    <div className=\"ralate-product-content\">\r\n                        <h4 className=\"title-navbar\">\r\n                            Bạn có thể tìm\r\n                        </h4>\r\n                        <div className=\"row\">\r\n                            {_.slice(_.uniq(relateProduct), 0, 10).map(item => {\r\n                                return <RelateProductItem productItem={item} key={item.id} />\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </NavbarWrapper>\r\n            <NavbarWrapper className=\"navbar-mobile\">\r\n                <ul className=\"list-filter\">\r\n                    <li className=\"filter-item\">\r\n                        <ul>\r\n                            <li>\r\n                                <Input\r\n                                    className=\"search\"\r\n                                    type=\"text\"\r\n                                    value={search}\r\n                                    name=\"search\"\r\n                                    placeholder=\"Tìm sản phẩm...\"\r\n                                    onChange={handleChangeInput}\r\n                                />\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                    <li className=\"filter-item\">\r\n                        <SelectOption option={Price} handleSelectChange={handleSelectChangePrice} />\r\n                        <SelectOption value={selectSort} handleSelectChange={handleSelectChange} nameSelect=\"Name\" option={Name} />\r\n                    </li>\r\n                </ul>\r\n\r\n            </NavbarWrapper>\r\n            {data.length ? <PaginationPage history={history} product={getListProductByFilter()} /> :\r\n                <div className=\"empty\">\r\n                    <img src=\"/Assets/Images/product/empty_product.svg\" alt=\"empty\" />\r\n                    <p className=\"empty-text\">\r\n                        Không tìm thấy sản phẩm\r\n                    </p>\r\n                </div>}\r\n\r\n\r\n\r\n        </TabPageWrapper>\r\n    );\r\n}\r\nexport default TabPage;"]},"metadata":{},"sourceType":"module"}